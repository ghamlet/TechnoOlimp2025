### Доработка плана с учетом новых требований:

---

#### **2. Дизайн интерфейса**
1. **Простота и интуитивность**:
   - Интерфейс бота должен быть минималистичным и понятным для школьников.
   - Использование кнопок для навигации:
     - Главное меню: "Тестирование промтов", "Примеры промтов", "Пройти тест", "Мой прогресс".
   - Поддержка текстовых команд для опытных пользователей.

2. **Кнопки и меню**:
   - Главное меню:
     - **Тестирование промтов**: Пользователь вводит промт, бот анализирует его и выводит ошибки и рекомендации.
     - **Примеры промтов**: Пользователь может выбрать тему и просмотреть примеры.
     - **Пройти тест**: Кнопка для запуска теста по пройденным темам.
     - **Мой прогресс**: Пользователь может посмотреть свои результаты и прогресс.

---

#### **3. Определение функционала**

##### **Основные функции бота:**



1. **Тестирование промтов**:
   - Пользователь вводит промт.
   - Нейронная сеть анализирует промт и выводит:
     - Ошибки (например, недостаточно конкретики, неправильная формулировка).
     - Рекомендации по улучшению (например, "Добавьте больше контекста", "Уточните запрос").
   - Пример ответа нейронки:
     ```
     Ваш промт: "Расскажи про ИИ"
     Ошибки: Запрос слишком общий.
     Рекомендации: Уточните, что именно вы хотите узнать про ИИ (например, "Какие есть типы ИИ?").
     ```



    Чтобы нейронная сеть (например, OpenAI GPT или LLaMA) выдавала ответ в формате анализа промта с ошибками и рекомендациями, нужно правильно сформулировать **системный промт** (system prompt) и **пользовательский промт** (user prompt). Системный промт задает роль нейронной сети, а пользовательский промт — это запрос, который вы хотите проанализировать.

---

### Как задать промт для анализа

1. **Системный промт**:
   - Задает роль нейронной сети. В данном случае нейронная сеть должна быть "анализатором промтов".
   - Пример системного промта:
     ```
     Ты — помощник для анализа промтов. Твоя задача — находить ошибки в промтах и давать рекомендации по их улучшению. Ты должен анализировать промты и выдавать ответ в следующем формате:
     - Ошибки: [список ошибок]
     - Рекомендации: [список рекомендаций]
     ```

2. **Пользовательский промт**:
   - Это запрос, который вы хотите проанализировать.
   - Пример пользовательского промта:
     ```
     Проанализируй этот промт и дай рекомендации: "Расскажи про ИИ"
     ```

---

### Пример кода для отправки запроса

```python
import openai  # Или другая библиотека для работы с LLM

# Системный промт
system_prompt = """
Ты — помощник для анализа промтов. Твоя задача — находить ошибки в промтах и давать рекомендации по их улучшению. 
Ты должен анализировать промты и выдавать ответ в следующем формате:
- Ошибки: [список ошибок]
- Рекомендации: [список рекомендаций]
"""

# Пользовательский промт
user_prompt = "Проанализируй этот промт и дай рекомендации: 'Расскажи про ИИ'"

# Отправка запроса к нейронной сети
response = openai.ChatCompletion.create(
    model="gpt-4",  # Используем GPT-4 (или другую модель)
    messages=[
        {"role": "system", "content": system_prompt},
        {"role": "user", "content": user_prompt},
    ],
)

# Получаем ответ от нейронной сети
analysis_result = response["choices"][0]["message"]["content"]
print(analysis_result)
```

---

### Пример вывода:

```
Ошибки: Запрос слишком общий.
Рекомендации: Уточните, что именно вы хотите узнать про ИИ (например, "Какие есть типы ИИ?").
```

---

### Как улучшить анализ промтов

1. **Добавьте больше примеров**:
   - В системный промт можно добавить примеры хороших и плохих промтов, чтобы нейронная сеть лучше понимала, что от неё требуется.
   - Пример:
     ```
     Пример плохого промта: "Расскажи про ИИ"
     Ошибки: Запрос слишком общий.
     Рекомендации: Уточните, что именно вы хотите узнать про ИИ (например, "Какие есть типы ИИ?").

     Пример хорошего промта: "Какие есть типы ИИ?"
     Ошибки: Нет.
     Рекомендации: Запрос сформулирован четко и конкретно.
     ```

2. **Уточните формат ответа**:
   - Если вы хотите, чтобы нейронная сеть всегда возвращала ответ в строгом формате, укажите это в системном промте.
   - Пример:
     ```
     Всегда возвращай ответ в следующем формате:
     - Ошибки: [список ошибок]
     - Рекомендации: [список рекомендаций]
     ```

3. **Добавьте правила анализа**:
   - Вы можете указать нейронной сети, какие ошибки искать (например, "Запрос слишком общий", "Не хватает контекста", "Неправильная формулировка").
   - Пример:
     ```
     Ищи следующие ошибки:
     - Запрос слишком общий.
     - Не хватает контекста.
     - Неправильная формулировка.
     ```

---

### Пример улучшенного системного промта

```python
system_prompt = """
Ты — помощник для анализа промтов. Твоя задача — находить ошибки в промтах и давать рекомендации по их улучшению. 
Всегда возвращай ответ в следующем формате:
- Ошибки: [список ошибок]
- Рекомендации: [список рекомендаций]

Ищи следующие ошибки:
- Запрос слишком общий.
- Не хватает контекста.
- Неправильная формулировка.

Пример плохого промта: "Расскажи про ИИ"
Ошибки: Запрос слишком общий.
Рекомендации: Уточните, что именно вы хотите узнать про ИИ (например, "Какие есть типы ИИ?").

Пример хорошего промта: "Какие есть типы ИИ?"
Ошибки: Нет.
Рекомендации: Запрос сформулирован четко и конкретно.
"""
```

---

### Итог

Чтобы получать ответ в формате:
```
Ошибки: Запрос слишком общий.
Рекомендации: Уточните, что именно вы хотите узнать про ИИ (например, "Какие есть типы ИИ?").
```

Нужно:
1. Задать **системный промт**, который объясняет нейронной сети её роль и формат ответа.
2. Отправить **пользовательский промт** для анализа.

Этот подход позволяет гибко настраивать анализ промтов и получать структурированные ответы.







2. **Примеры хороших промтов**:
   - **200 примеров промтов** на 20 различных тем:
     - Темы: История, Математика, Физика, Литература, Программирование, Искусственный интеллект, Биология, Химия, География, Экономика, Философия, Психология, Спорт, Музыка, Кино, Технологии, Политика, Экология, Медицина, Культура.

     - Примеры промтов:
       - История: "Какие были причины Первой мировой войны?"
       - Математика: "Объясни, как решать квадратные уравнения."
       - Искусственный интеллект: "Какие есть типы нейронных сетей?"

   - **Меню бота**:
     - Пользователь выбирает тему, и бот выводит примеры промтов.





3. **Регулярные тесты по пройденным темам**:
   - Кнопка "Пройти тест" в главном меню.
   - **20 вопросов с моментальной проверкой**:
     - Пример вопроса: "Какой тип нейронной сети используется для обработки изображений?"
     - Варианты ответа: а) Сверточная нейронная сеть, б) Рекуррентная нейронная сеть, в) Полносвязная нейронная сеть.
     - Бот проверяет ответ и выводит результат.
   - Результаты теста сохраняются в базу данных.





4. **Хранение истории запросов**:
   - Все запросы пользователя сохраняются в MongoDB.
   - Пользователь может просмотреть свою историю через меню "Мой прогресс".
   - Добавить фильтр по датам

   - Дополнительные улучшения:
Пагинация:

Если история за день слишком большая, можно разбить её на несколько сообщений с кнопками "Далее" и "Назад".

Удаление истории:

Добавьте возможность удалить историю за конкретную дату.












---

##### **Дополнительные функции:**

1. **Система прогресса пользователей**:
   - **Сохранение результатов**:
     - Каждый тест и анализ промта сохраняется в базу данных.
     - Пример структуры данных:
       ```json
       {
         "user_id": 123456789,
         "test_results": [
           {"test_id": 1, "score": 8, "total": 10},
           {"test_id": 2, "score": 7, "total": 10}
         ],
         "prompts_analyzed": [
           {"prompt": "Расскажи про ИИ", "feedback": "Запрос слишком общий."},
           {"prompt": "Какие есть типы нейронных сетей?", "feedback": "Отличный запрос!"}
         ]
       }
       ```
   - **Прогресс**:
     - Пользователь видит:
       - Количество пройденных тестов.
       - Средний балл.
       - Количество проанализированных промтов.
     - Пример вывода:
       ```
       Ваш прогресс:
       - Пройдено тестов: 5
       - Средний балл: 8.5/10
       - Проанализировано промтов: 12
       ```

2. **Меню "Мой прогресс"**:
   - Пользователь может:
     - Просмотреть свои результаты тестов.
     - Увидеть историю проанализированных промтов.
     - Получить рекомендации по улучшению (например, "Попробуйте пройти тест по ИИ").

---

#### **Реализация системы прогресса**

1. **Структура базы данных**:
   - Коллекция `user_progress`:
     ```json
     {
       "user_id": 123456789,
       "test_results": [
         {"test_id": 1, "score": 8, "total": 10},
         {"test_id": 2, "score": 7, "total": 10}
       ],
       "prompts_analyzed": [
         {"prompt": "Расскажи про ИИ", "feedback": "Запрос слишком общий."},
         {"prompt": "Какие есть типы нейронных сетей?", "feedback": "Отличный запрос!"}
       ]
     }
     ```

2. **Обновление прогресса**:
   - После каждого теста или анализа промта данные обновляются в базе.

3. **Вывод прогресса**:
   - Пользователь может запросить свой прогресс через меню "Мой прогресс".
   - Бот выводит статистику и рекомендации.

---

### Итог:
- **Тестирование промтов**: Нейронная сеть анализирует введенные промты и дает рекомендации.
- **Примеры промтов**: 200 примеров на 20 тем, сохраненных в базу данных.
- **Регулярные тесты**: 20 вопросов с моментальной проверкой.
- **Система прогресса**: Сохранение результатов тестов и анализа промтов, вывод статистики.

Этот подход обеспечивает удобный и функциональный интерфейс для школьников, помогая им изучать промит-инжиниринг и улучшать свои навыки.